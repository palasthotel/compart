!function(t){var o={};function a(r){if(o[r])return o[r].exports;var e=o[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=o,a.d=function(t,o,r){a.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,o){if(1&o&&(t=a(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)a.d(r,e,function(o){return t[o]}.bind(null,e));return r},a.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(o,"a",o),o},a.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},a.p="",a(a.s=15)}({12:function(t,o){jQuery(t=>{const o=Compart.api,a=t("body"),r=(t,o)=>("boolean"==typeof o&&(o?(t.attr("data-is-submitting","true"),a.addClass("compart-user-proposal__is-submitting")):(t.removeAttr("data-is-submitting"),a.removeClass("compart-user-proposal__is-submitting"))),"true"===t.attr("data-is-submitting"));a.on("submit","[data-compart-user-proposal-component] form",(function(a){a.preventDefault();const n=t(this),i=n.closest("[data-compart-user-proposal-component]");if(r(i))return;const s=n.find("[name=compart_proposal]"),c=s.val();"string"!=typeof c||c.length<=0||(s.prop("disabled",!0),r(i,!0),o.createProposal(c).then(t=>(s.prop("disabled",!1),s.val(""),r(i,!1),t)).then(e(i,c)))}));const e=(t,o)=>a=>{t.find("form").hide(),a.success?(t.find("[data-compart-proposal-preview]").val(o),t.find("[data-compart-proposal-success]").show()):t.find("[data-compart-proposal-error]").show()}})},13:function(t,o){jQuery(t=>{const o=Compart.api,a=t("body"),r=t=>"true"===t.attr("data-is-voted"),e=(t,o)=>("boolean"==typeof o&&(o?(a.addClass("compart-voting__is-loading"),t.attr("data-is-loading","true")):(a.removeClass("compart-voting__is-loading"),t.removeAttr("data-is-loading"))),"true"===t.attr("data-is-loading")),n=(t,o=1)=>{const a=(t=>parseInt(t.attr("data-reactions-count")))(t);((t,o)=>{t.attr("data-reactions-count",o)})(t,a+o)},i=(o,a)=>{(t=>t.find("[data-proposal-id]"))(o).each((o,a)=>{const e=t(a);r(e)&&((t=>{t.removeAttr("data-is-voted")})(e),n(e,-1))}),a.forEach(t=>{const a=((t,o)=>t.find("[data-proposal-id="+o+"]"))(o,t);(t=>{t.attr("data-is-voted",!0)})(a),n(a)})};t("[data-voting-id][data-voting-status=open]").each(async(a,n)=>{try{await async function(a){const n=a.data("voting-id");e(a,!0);const s=(await o.queryVoting(n)).filter(t=>void 0!==t.userId).map(t=>t.proposalId);i(a,s),e(a,!1),a.on("click","[data-proposal-id]",(async function(c){e(a,!0);const d=t(this),p=d.attr("data-proposal-id"),u=r(d);i(a,u?[]:[p]);try{u?await o.unvoteForProposal(n,p):await o.voteForProposal(n,p,"up")}catch(c){i(a,s)}finally{e(a,!1)}}))}(t(n))}catch(t){console.error(t)}})})},15:function(t,o,a){"use strict";a.r(o),a(12),a(13)}});